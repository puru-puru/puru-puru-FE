<h1 style="color:yellowgreen">🌿 Puru Puru - FE</h1>

![변경 후 배경](https://github.com/puru-puru/puru-puru-FE/assets/105138020/af11ba90-9a55-4dd2-b50c-0801cd38e7e7)


> 안녕하세요, 푸릇푸릇은 개인 성향에 맞는 반려 식물을 추천해주고, 키우는데 도움을 주는 서비스를 만들고 있습니다.  
> 자신이 키우는 식물 일지를 작성하며 같이 성장하는 특별한 즐거움을 경험해요!

</br>

## **🌱 푸릇 푸릇**

<table width="80%;">
  <tr align="center">
    <td><strong>구분</strong></td>
    <td><strong>링크</strong></td>
    <td><strong>구분</strong></td>
    <td><strong>링크</strong></td>
  </tr>
  <tr align="center">
    <td><img src="https://velog.velcdn.com/images/eorb0717/post/6682ca3c-bf5c-4fa9-b0c4-06dc58e26a60/image.svg" alt="푸릇푸릇 아이콘" style="width: 25px;"></td>
    <td><a target="_blank" rel="noopener noreferrer nofollow" href="https://puru-puru.vercel.app/">Puru-Puru</a></td>
    <td><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/e9/Notion-logo.svg/1024px-Notion-logo.svg.png" alt="노션 아이콘" style="width: 20px;"></td>
    <td><a target="_blank" rel="noopener noreferrer nofollow" href="https://teamsparta.notion.site/99-18-2934bad8f617480f8deb299a64c6b5f2?p=940d44d40b864247b8c400646e5c8d9a&pm=c">브로슈어</a></td>
  </tr>
  <tr align="center">
    <td><img src="https://user-images.githubusercontent.com/389021/165723723-c93929a5-01d9-49e1-907b-43669d8089e6.png" alt="리액트 아이콘" style="width: 25px;"></td>
    <td><a target="_blank" rel="noopener noreferrer nofollow" href="https://github.com/puru-puru/puru-puru-FE">FE Github</a></td>
    <td><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/e9/Notion-logo.svg/1024px-Notion-logo.svg.png" alt="노션 아이콘" style="width: 20px;"></td>
    <td><a target="_blank" rel="noopener noreferrer nofollow" href="https://www.notion.so/91b7d59443d148179ded8245e0955e73?v=0df2dc36063a456280a629049691d5af">팀 SA</a></td>
  </tr>
  <tr align="center">
    <td><img src="https://static-00.iconduck.com/assets.00/node-js-icon-454x512-nztofx17.png" alt="노드js 아이콘" style="width: 20px;"></td>
    <td><a target="_blank" rel="noopener noreferrer nofollow" href="https://github.com/puru-puru/puru-puru-BE">BE Github</a></td>
    <td><img src="https://cdn-icons-png.flaticon.com/512/5968/5968705.png" alt="피그마 아이콘" style="width: 20px;"></td>
    <td><a target="_blank" rel="noopener noreferrer nofollow" href="https://www.figma.com/file/MpRPSQs04dB82pUN4HvOf0/%5B%ED%91%B8%EB%A6%87%ED%91%B8%EB%A6%87%5D_v2_0215_HI?type=design&node-id=2-2&mode=design&t=kPdyiXOJzqpCPn6h-0">Figma</a></td>
  </tr>
</table>

</br>

## **☘️ 역할 담당**

<table>
  <tr>
    <td align="center">강혜성</td>
    <td style="padding: 15px 10px;">
      - 인증( 회원가입, 유효성 검사, 로그인, 비로그인 처리, 인가 / 토큰 관리,  이용약관, 닉네임 설정) <br />
      - 반려 식물 페이지 ( 반려 식물 카드 / 일지, 반려 식물 등록 및 삭제, 식물 검색, 이미지 압축 업로드)   <br />
      - UX/UI ( 전반적인 배경, 스플래쉬 페이지 <br />
      - 하단 바 제작(Footer) / 로딩 (spiner) <br />
      - 커뮤니티 (CRUD중 CR) <br />
      - 마이 페이지 <br />
      - 성능 개선 <br />
      - vecel 배포 / 구글 애널리틱스 관리 <br />
    </td>
    <td align="center">pig10326@naver.com</td>
  </tr>
    <tr>
    <td align="center">이대규</td>
    <td style="padding: 15px 10px;">
      - 메인 페이지 (추천 미션 및 추천 식물) <br />
      - 보드 테스트 페이지 (테스트 및 결과 페이지) <br />
      - 상단의 Navbar <br />
      - 커뮤니티 메인 페이지 ( 사용자 정보 추가 및 게시글 디자인 수정, 좋아요, 댓글,  <br />전체, 인기순, 최신순 정렬) (현재 구현중) <br />
      - 커뮤니티 내정보 페이지 (CRUD 중 UD) (현재 구현중)<br />
      - 댓글 페이지 (CRUD) (현재 구현중) <br />
    </td>
    <td align="center">eorb0717@naver.com</td>
  </tr>
</table>

</br>



## 🗂️ 서비스 아키텍처
<img width="1378" alt="아키텍처" src="https://github.com/puru-puru/puru-puru-FE/assets/105138020/29bd9cc7-2367-4c31-859f-82ff6cb30ba8">

</br>

## **📜 FE 기술 선정**

<div align="center">
  <img src="https://img.shields.io/badge/react-61DAFB?style=for-the-badge&logo=react&logoColor=white">
  <img src="https://img.shields.io/badge/typescript-3178C6?style=for-the-badge&logo=typescript&logoColor=efefee"/>
</div>
<div align="center">
  <img src="https://img.shields.io/badge/Axios-5A29E4?style=for-the-badge&logo=Axios&logoColor=white">
  <img src="https://img.shields.io/badge/react--query-FF4154?style=for-the-badge&logo=reactquery&logoColor=white">
  <img src="https://img.shields.io/badge/recoil-3578E5?style=for-the-badge&logo=recoil&logoColor=efefee"/>
  <img src="https://img.shields.io/badge/reactrouter-CA4245?style=for-the-badge&logo=reactrouter&logoColor=efefee"/>
</div>
<div align="center">
 <img src="https://img.shields.io/badge/styledcomponents-DB7093?style=for-the-badge&logo=styledcomponents&logoColor=efefee"/>
</div>
<div align="center">
  <img src="https://img.shields.io/badge/github-181717?style=for-the-badge&logo=github&logoColor=white">
</div>

</br>


## 🗣️ 기술적 의사결정

<table>
  <tbody>
    <tr>
      <td>TypeScript</td>
      <td>타입스크립트는 정적 타입 지정을 통해 코드의 안정성을 향상시킵니다. 이는 개발 중에 발생할 수 있는 많은 오류를 컴파일 시간에 미리 잡아낼 수 있음을 의미합니다. 이러한 이유와 코드의 가독성을 높이고 타입 정보를 제공하여 코드의 구조를 명확하게 표현할 수 있기 때문에 결정하였습니다.</td>
    </tr>
    <tr>
      <td>Axios</td>
      <td>Promise 기반의 API 호출을 쉽게 할수 있고, 인터셉터와 같은 기능 제공이나 직관적인 사용법때문에 결정하였습니다.</td>
    </tr>
    <tr>
      <td>React-Router</td>
      <td>React-Router는 React 기반의 라우팅 라이브러리로, SPA의 사용자 경험을 향상시키기 위해 채택되었습니다. 이를 통해 페이지 전체를 새로 로딩하지 않고도 애플리케이션의 다양한 화면 간을 자연스럽게 이동할 수 있어 사용자들이 웹 애플리케이션을 더욱 빠르고 편리하게 이용할 수 있습니다. </td>
    </tr>
    <tr>
      <td>React-Query</td>
      <td>React-Query를 선택한 이유는 클라이언트쪽 데이터가 아닌 서버쪽 데이터 관리를 더 원활하게 하기위해 사용하였습니다. React-Query는 API 호출을 간편하게 관리할 수 있어서 비동기 데이터를 다루는데 효율적이며, 캐시 및 자동 재요청과 같은 기능을 제공하여 상태 관리를 단순화할 수 있기 때문입니다. 또한 TypeScript 지원과 강력한 문서화로 개발 생산성을 높일 수 있어서 결정하였습니다.</td>
    </tr>
    <tr>
      <td>Recoil</td>
      <td>Recoil은 Redux나 다른 상태 관리에 비해 설정이 간단하며, 직관적입니다. 또한 Redux와 달리 직접적으로 상태를 수정할 수 있고 여러 컴포넌트에서 동일한 상태를 쉽게 사용하고 수정할 수 있습니다. 이를 통해 상태 관리에 대한 복잡성을 줄이고 유연성을 높일 수 있어서 결정하였습니다.</td>
    </tr>
    <tr>
      <td>Styled-Components</td>
      <td>class 이름의 중복을 고민하지 않아도 되고, css코드 관리의 용이해서 선택하였습니다.</td>
    </tr>
    <tr>
      <td>browser-image-compression</td>
      <td>이미지를 압축해 서버에 업로드하기 전 해상도나 저장 용량을 줄여 대역폭을 절약할 수 있기 때문에 결정하였습니다.</td>
    </tr>
    <tr>
      <td>react-slick</td>
      <td>react-slick를 선택한 이유는 먼저, 간단한 설정과 사용법으로 다양한 슬라이드를 구현할 수 있어서 개발 생산성을 높일 수 있습니다. 또한 풍부한 기능과 옵션을 제공, 높은 확장성과 널리 사용되는 커뮤니티 지원 덕분에 필요한 기능을 쉽게 구현할 수 있어서 결정하였습니다.</td>
    </tr>
    <tr>
      <td>react-ga4</td>
      <td>react-ga4는 Google Analytics 4를 React 앱에서 쉽게 사용할 수 있게 해주는 라이브러리로, 앱의 사용자 행동을 추적하고 데이터를 수집하기 위해 선택되었습니다.</td>
    </tr>
  </tbody>
</table>

## 💥 트러블슈팅

<details>
<summary>식물 검색 기능</summary>

> #### 문제
>동일한 검색을 여러 번 수행할 때마다 또 다시 동일한 API 요청을 하는 비효율적인 문제가 있었습니다.

> #### 해결
>useCallback 및 useMemo와 같은 메모이제이션 기법을 고려했으나, 비동기 데이터 로딩 및 관리에 대한 복잡성으로 인해 이러한 방법을 적용하기 어려웠습니다. 대신에 리액트 쿼리를 사용하여 데이터 요청, 캐싱, 재로딩 등과 같은 고급 기능을 내장하고 있는 라이브러리를 채택하여 검색 기능을 구현했습니다. >이를 통해 API 요청의 중복을 방지하고 효율적으로 검색을 처리할 수 있었습니다.
</details>

<details>
<summary>서버로의 이미지 전송 비효율적인 문제</summary>

> #### 문제
>이미지의 크기에 관계없이 서버로 이미지를 전송하는 데 비효율적인 문제가 발생했습니다.

> #### 해결
>이미지 압축과 관련된 여러 방안과 라이브러리를 조사한 후, browser-image-compression 라이브러리를 사용하여 이미지를 압축하고 서버에 전송했습니다. 이 과정에서 maxSizeMB 및 maxWidthOrHeight 옵션을 사용하여 이미지를 적절하게 압축했습니다.
</details>
<details>
<summary>페이지 초기화 문제</summary>

> #### 문제
>여러 반려 식물이 있는 경우 특정 반려 식물에 대한 내용을 보다 페이지를 이동하면 초기화되어 첫 식물로 돌아가는 문제가 발생했습니다.

> #### 해결
>부모-자식 관계가 아닌 경우 상태를 전달하는 것이 어려워졌습니다. 이를 해결하기 위해 recoil을 사용하여 상태를 저장하고 관리했습니다. 이를 통해 페이지 간에 상태를 유지할 수 있었습니다.
</details>

<details>
<summary>로그인 인가 / 인증 문제</summary>

> #### 문제
> 사용자가 이용도중 AccessToken이 만료되면 그대로 로그인 페이지로 이동하였습니다. 또한 RefreshToken을 받고 있지만 활용을 전혀 하지 못하고 쿠키에 담아 두기만 하였습니다.

> #### 해결
> response 인터셉터 활용으로 AccessToken이 만료되어 api 요청으로 에러 메세지를 받으면 RefreshToken토큰을 이용해 AccessToken을 재발급 받은 후 다시 재요청 할 수 있도록 해결하였습니다.

![인터셉터](https://github.com/puru-puru/puru-puru-FE/assets/105138020/63baddef-af35-4318-8543-3933abb8bfab)

</details>

<details>
<summary>보드 테스트 버그</summary>

> #### 문제
>태그 요소를 선택하고 같은 요소를 재선택시에 결과 확인 버튼이 비활성화가 되었으나 첫 번째 태그 선택 후에 다른 태그 선택을 하게되면 결과 확인 버튼이 활성화를 유지하지 않고 비활성화가 되어버린 문제가 있었습니다 그리고 같은 태그 요소 선택 없이 결과확인 버튼이 클릭되어 결과 페이지로 넘어가는 문제 또한 있었습니다

> #### 해결
>태그 선택시에 setState가 되는 boardId가 있는데 이 state를 통해서 로직을 구현 하였습니다 그리고 이 boardId가 없는 경우에는 결과확인 버튼이 클릭되지 못하는 로직 또한 구현하여 해결하였습니다 코드 사진은 아래와 같습니다.

  ![코드](https://velog.velcdn.com/images/eorb0717/post/983a2786-a192-431c-a16c-96ee7075bece/image.JPG)
</details>


## 👍 유저 피드백 & 반영

<details>
<summary>구글 애널리틱스</summary>

구글 애널리틱스를 이용하여 사용자가 어떤 페이지에 접속을 많이했고 어떤 이벤트를 했는지 분석 했습니다.  
그러한 분석으로 페이지의 우선 순위를 두어 QA기반 코드 리팩토링을 하였습니다.
  
![캡처](https://github.com/puru-puru/puru-puru-FE/assets/105138020/3f2f62bc-6f84-4ac0-95d7-b0e922aceabd)
  
![캡처2](https://github.com/puru-puru/puru-puru-FE/assets/105138020/78e38168-4cfd-4463-b8f1-71bbfeff5330)

</details>

<details>
<summary>소셜 로그인</summary>
   <br/>
  - 피드백 - <br/>요즘은 대부분이 다 소셜로그인으로 돌아가는게 더 많기 때문에 남은 기간동안 소셜로그인을 넣는것을 추천드립니다.<br/>
  -> 리다이렉트 페이지를 만들어 인가코드와 페이지 네이션을 구현 하였습니다.
  
  ![소셜](https://github.com/puru-puru/puru-puru-FE/assets/105138020/8ea51d33-5f63-425c-839a-68d4cc3f8bdd)
  
  ![리다이렉트](https://github.com/puru-puru/puru-puru-FE/assets/105138020/015c2418-27f5-4476-8120-4d48b28feaac)

</details>

<details>
<summary>UX/UI</summary>
   <br/>
  - 피드백 - <br/>전체적으로 디자인이 너무 무난하며 저렴한(?) 느낌이 조금 나는 거 같습니다. 폰트 크기가 너무 작아서 크기를 좀 키우셔도 괜찮을 거 같고 폰트도 딱딱한 폰트 말고 꽃과 관련된 프로젝트이기 때문에 따듯한 느낌이 드는 폰트도 괜찮아보입니다.

  -> **변경 전**
  
  ![변경전 디자인](https://github.com/puru-puru/puru-puru-FE/assets/105138020/34b4e302-7448-4430-90c1-075cc7a2d6a3)

  -> **변경 후**
  
  ![변경 후 디자인](https://github.com/puru-puru/puru-puru-FE/assets/105138020/7ff54ed6-bf6b-4ec5-a348-dbdc1a1f13aa)

  
</details>

<details>
<summary>이미지 파일을 등록할 때 사진 위에 ‘+’ 버튼</summary>
   <br/>
  - 피드백 - <br/>반려식물 등록할때 이미지를 등록했는데도 이미지 위에 + 버튼이 그대로 노출됩니다. 이미지가 있다면 사라지게 해주세요.
  
  -> **변경 전**

  ![변경전 이미지 업로드](https://github.com/puru-puru/puru-puru-FE/assets/105138020/dff837cf-4bb7-4cf4-a027-ebe69bee1d41)

  -> **변경 후**
  
  ![변경 후 이미지 업로드](https://github.com/puru-puru/puru-puru-FE/assets/105138020/5b4fd510-94ad-4d90-ac35-660693c642e3)

  ![이미지 업로드 코드](https://github.com/puru-puru/puru-puru-FE/assets/105138020/cef3c04a-46cc-441c-9a6b-eced7c6de1a6)
  
  이미지가 있는 경우 없는경우를 놔두고, 이미지가 있다면 container하나를 주었습니다. 또한 그 영역을 클릭해서 재 업로드 할 수 있게 하였습니다.

</details>
